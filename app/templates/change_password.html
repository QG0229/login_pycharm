{% extends 'base.html' %}

{% block content %}
<div class="login-container">
    <h2>修改密码</h2>

    <!-- 错误提示消息 -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div id="flash-message" class="alert alert-danger" role="alert">
                {{ messages[0] }}
            </div>
        {% endif %}
    {% endwith %}

    <form method="POST" class="login-form">
        {{ form.hidden_tag() }}

        <div>
            <label for="old_password">{{ form.old_password.label }}</label>
            {{ form.old_password(size=32, class_='form-control') }}
            {% for error in form.old_password.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div>
            <label for="new_password">{{ form.new_password.label }}</label>
            {{ form.new_password(size=32, class_='form-control') }}
            {% for error in form.new_password.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div>
            <label for="confirm_password">{{ form.confirm_password.label }}</label>
            {{ form.confirm_password(size=32, class_='form-control') }}
            {% for error in form.confirm_password.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <div>
            {{ form.submit(class_='login-button btn btn-primary') }}
        </div>
    </form>
</div>

{% endblock %}
